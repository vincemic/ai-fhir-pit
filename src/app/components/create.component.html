<div class="create-container">
  <div class="create-header">
    <h1>Create New FHIR Resource</h1>
    <p>Select a resource type to create and submit new FHIR resources to the server</p>
  </div>

  <!-- Resource Type Selection -->
  <div class="resource-type-section">
    <h2>Select Resource Type</h2>
    <div class="resource-type-grid">
      @for (type of supportedResourceTypes(); track type.value) {
        <div 
          class="resource-type-card"
          (click)="selectResourceType(type.value)"
        >
          <div class="resource-type-icon">{{ type.icon }}</div>
          <div class="resource-type-name">{{ type.value }}</div>
          <div class="resource-type-description">{{ type.description }}</div>
        </div>
      }
    </div>
  </div>

  <!-- Success Message -->
  @if (createdResource()) {
    <div class="success-banner">
      <div class="success-content">
        <strong>Success!</strong> {{ createdResource()!.resourceType }} created successfully.
        <div class="success-actions">
          <button (click)="viewCreatedResource()" class="btn-small">View Resource</button>
          <button (click)="createAnother()" class="btn-small secondary">Create Another</button>
        </div>
      </div>
    </div>
  }

  <!-- Error Display -->
  @if (fhirService.lastError()) {
    <div class="error-banner">
      <div class="error-content">
        <strong>Error:</strong> {{ fhirService.lastError() }}
        <button (click)="fhirService.clearError()" class="error-close">×</button>
      </div>
    </div>
  }

  <!-- Resource Form Modal -->
  <app-resource-form-modal (resourceCreated)="onResourceCreated($event)"></app-resource-form-modal>
</div>
